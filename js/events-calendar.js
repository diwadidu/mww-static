(()=>{var e={263:e=>{function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(263),t=n.n(e);function r(e){let t=new Date(e);return`${t.getFullYear()}-${a(t.getMonth()+1)}-${a(t.getDate())}`}function a(e,t=2){return t||(t=2),`00${e}`.substr(-1*t)}function s(e,t){return`${a(e,4)}-${a(t)}`}const o=(e,t)=>(++e>12&&(e=1,t++),{month:e,year:t}),i=(e,t)=>(--e<1&&(e=12,t--),{month:e,year:t});class h extends Error{}class l{constructor(){this.serverDomain=window.location.origin,this.eventStorage={},this.loadEventsWorker=null,this.pathToWorkerLoader="/js/workers",this.shouldLoadFromServer=(e,t)=>!this.eventStorage[`${s(e,t)}`],this.loadEventsForMonth=(e,t)=>this.loadEventsWorker.postMessage({year:e,month:t,domain:this.serverDomain}),this.processWorkerMessage=e=>{if("error"!==e.type)this.cacheEvents(e.data),this.emitDataAvailableEvent(e.data.month);else{const t=new h(e.data.msg);this.emit("eventDataError",t)}},this.cacheEvents=e=>this.eventStorage[e.month]=e,this.preloadAdjacentMonthsEvents=(e,t,n=[-1,1])=>{(function(e){let t;return"number"==typeof e?t=Array.from({length:e},((e,t)=>t)):"string"==typeof e?t=Array.from({length:parseInt(e,10)||0},((e,t)=>t)):Array.isArray(e)?t=e:console.error("Parameter has unknown format",e,typeof e),{from:(e,n)=>t.map((t=>{const r=new Date(e,n-1,1,0,0,0);return new Date(r.setMonth(r.getMonth()+1+t))})),until:(e,n)=>t.map((t=>{const r=new Date(e,n-1,1,0,0,0);return new Date(r.setMonth(r.getMonth()-1-t))})),withFixed:(e,n)=>t.map((t=>{const r=new Date(n,e-1,1,0,0,0);return new Date(r.setMonth(r.getMonth()+t))}))}})(n).withFixed(e,t).map(r).forEach((e=>{const t=e.substr(0,7);if(!this.eventStorage[t]){const{year:e,month:n}=function(e){const[t,n]=e.split("-");return{year:parseInt(t,10),month:parseInt(n,10),yearMonthId:e.substr(0,7)}}(t);this.loadEventsForMonth(e,n)}}))},this.getMonthEventsForDateFromCache=e=>{const t=e.substr(0,7);return this.hasData(e)?this.eventStorage[t].events[e]:[]},this.hasData=e=>{const t=e.substr(0,7);return this.eventStorage[t]&&this.eventStorage[t].events[e]},this.startWebWorker()}startWebWorker(){const e=`${this.serverDomain}${this.pathToWorkerLoader}/event-data-loader.worker.js`;this.loadEventsWorker=new Worker(e),this.loadEventsWorker.onmessage=this.processWorkerMessage,this.loadEventsWorker.onerror=e=>console.warn("Error",e),this.loadEventsWorker.onmessageerror=e=>console.warn("MessageError",e)}getAllEventsInYearMonth(e,t){this.shouldLoadFromServer(e,t)?this.loadEventsForMonth(e,t):this.emitDataAvailableEvent(`${e}-${t}`)}emitDataAvailableEvent(e){const t=(n=e,{get year(){return parseInt(n.split("-")[0],10)},get month(){return parseInt(n.split("-")[1],10)},get yearStr(){return n.split("-")[0]},get monthStr(){return n.split("-")[1]},get day(){return n.split("-")[2]?n.split("-")[2]:1},get yearMonthId(){return n.substr(0,7)}});var n;const r={month:t.yearMonthId,eventsInMonth:this.eventStorage[t.yearMonthId]};this.emit("eventsForMonthAvailable",r)}}t()(l.prototype);const d=l;class c{constructor(){this.eventDisplayLimit=3,this.monthNames=["","January","February","March","April","May","June","July","August","September","October","November","December"],this.dayElement='<td class="{{ dateStyle }}" data-date="{{ calendarDate }}"><a href="{{ calendarDate }}" class="event-day">{{ day }}</a>{{ events }}</td>',this.eventList='<li><a href="{{ url }}" target="_blank">{{ linkLabel }}</a></li>',this.header='<div class="calendar-month"><a class="calendar-prevmonth" onclick="previous()">Prev</a><h2>{{ month }} {{ year }}</h2><a class="calendar-nextmonth" onclick="next()">Next</a></div>'}createHtmlFor(e,t){return n=>{const r=this.replaceTagInHtmlString("month",this.monthNames[t],this.header),a=this.replaceTagInHtmlString("year",e,r),s=document.createElement("div");s.innerHTML=a;const o=document.createElement("table");o.setAttribute("class","event-calendar"),o.setAttribute("id","event-calendar");const i=document.createElement("thead");i.innerHTML=this.generateTableHeader();const h=document.createElement("tbody");h.innerHTML=this.generateCalendarRows(n,e,t).join(""),o.appendChild(i),o.appendChild(h);const l=document.createElement("div");return l.setAttribute("class","cal-container"),l.appendChild(s),l.appendChild(o),o.onclick=e=>{if("a"!==e.target.nodeName.toLowerCase()){const t=this.returnTableCellNode(e.path).getAttribute("data-date"),n=new CustomEvent("calendarClicked",{detail:{type:"date-clicked",dateRequested:t}});window.dispatchEvent(n)}},l}}returnTableCellNode(e){let t=0;for(;e[t]&&("td"!==(n=e[t]).nodeName.toLowerCase()||!n.className.toLowerCase().includes("current-month"));)t++;var n;if(!e[t])throw new Exception("Table call node not found");return e[t]}generateTableHeader(){return"<tr>"+["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((e=>`<td>${e}</td>`)).join("")+"</tr>"}generateCalendarRows(e,t,n){return e.map(((e,r)=>"<tr>"+e.reduce(this.renderCalendarDay(r,t,n).bind(this),"")+"</tr>"))}renderCalendarDay(e,t,n){return(a,s)=>{const o=[0,6].includes(new Date(t,n-1,s.date).getDay())?"weekend-day ":"";let i=this.replaceTagInHtmlString("events",this.renderEventsForDay(s.events),this.dayElement);if(i=this.replaceTagInHtmlString("day",s.date,i),0===e&&parseInt(s.date,10)>20)i=this.replaceTagInHtmlString("dateStyle",`${o}bordering-month`,i),i=this.removeAttributeFromHtmlString("data-date",i);else if(e>3&&parseInt(s.date,10)<7)i=this.replaceTagInHtmlString("dateStyle",`${o}bordering-month`,i),i=this.removeAttributeFromHtmlString("data-date",i);else{i=this.replaceTagInHtmlString("dateStyle",`${o}current-month`,i);let e=new Date(t,n-1,s.date);i=this.replaceTagInHtmlString("calendarDate",r(e),i)}return a+i}}replaceTagInHtmlString(e,t,n){const r="\\{\\{\\s*"+e+"\\s*\\}\\}";return(n||this.dayElement).replace(new RegExp(r,"g"),t)}removeAttributeFromHtmlString(e,t){const n=`${e}="[^"]+"`;return t.replace(new RegExp(n),"")}renderEventsForDay(e){return!e||e.length<1?"":e.length<=this.eventDisplayLimit&&window.innerWidth>600?this.renderEventsAsList(e):this.renderEventsAsCount(e)}renderEventsAsList(e){let t=[];for(let n of e){let e=this.replaceTagInHtmlString("url",n.links[0].url,this.eventList);t.push(this.replaceTagInHtmlString("linkLabel",n.name,e))}return'<ul class="events-daylist">'+t.join("")+"</ul>"}renderEventsAsCount(e){return`<div><p>${e.length} Events</p></div>`}generateComponentStyles(){const e=document.createElement("style");return e.setAttribute("type","text/css"),e.textContent='\n.event-calendar {width:100%;border-collapse:collapse;}\n.event-calendar thead td {height: 30px;border-top: 1px solid #7292ba;border-bottom: 1px solid #7292ba;color: #333;text-align:center}\n.event-calendar tbody:before {content: "-"; display: block; line-height: 1em; color: transparent;}\n.event-calendar tbody td {height:180px;vertical-align:top;padding-top:30px}\n.event-calendar td {overflow:hidden;position:relative;width: 14.3%;height:180px;border:1px solid #eee}\ntd span {font-size: 15px;position:relative;top:40%}\ntd.div {height:100%;display:inline-block}\ntd.bordering-month {background:#ccc;}\n.event-day {position: absolute;top: 0px;display: block;width: 100%;text-align:left;background-color: #7292ba;padding: 0.3em 6%;color: #eee;text-decoration:none}\n.cal-container {padding:0 3%;}\n.calendar-month > * {display: inline-block}\n.calendar-month {text-align:center;}\n.calendar-month > a {margin: 0 10px;}\n.calendar-month > h2 {width:180px;text-align:center;}\n\n.weekend-day {\n    background-color: #b2d2fa;\n}\n\n    @media screen and (max-width: 600px) {\n    .event-calendar tbody td {\n        height: 90px;\n        font-size: 13px;\n        text-align: center;\n    }\n',e}}class p extends HTMLElement{constructor(){super(),this.currentYear=void 0,this.currentMonth=void 0,this.renderCal=new c,this.eventRepository=new d,this.currentMonthsEvents=void 0,this.minDesktopWidth=601,this.isMobile=window.innerWidth<this.minDesktopWidth,this.gotoMonth=e=>()=>{const{month:t,year:n}=e(this.currentMonth,this.currentYear);this.currentMonth=t,this.currentYear=n,this.changeUrlParameters(t,n)},this.shadow=this.attachShadow({mode:"open"}),window.onresize=this.rerenderOnResize.bind(this)}connectedCallback(){this.shadow.appendChild(this.renderCal.generateComponentStyles());const{year:e,month:t}=this.findMonthYearToRender();this.currentMonth=t,this.currentYear=e,this.changeUrlParameters(this.currentMonth,this.currentYear),window.addEventListener("calendarClicked",this.dateClickListener.bind(this)),this.eventRepository.on("eventsForMonthAvailable",(e=>{this.renderCalendar(e.eventsInMonth)})),this.eventRepository.on("eventDataError",(e=>{console.error("Error from Repo",e),this.renderCalendar({})})),window.previous=this.gotoMonth(i.bind(this)),window.next=this.gotoMonth(o.bind(this))}changeUrlParameters(e,t){const n=`?month=${e}&year=${t}`;window.history.pushState({month:e,year:t},"Calendar",n),this.eventRepository.getAllEventsInYearMonth(this.currentYear,this.currentMonth),this.eventRepository.preloadAdjacentMonthsEvents(this.currentMonth,this.currentYear),this.renderCalendar({})}rerenderOnResize(e){const t=window.innerWidth;(this.isMobile&&t>this.minDesktopWidth-1||!this.isMobile&&t<this.minDesktopWidth)&&(this.isMobile=window.innerWidth<this.minDesktopWidth,this.rerenderCalendar())}disconnectedCallback(){window.removeEventListener("calendarClicked",this.dateClickListener.bind(this))}findMonthYearToRender(){let{year:e,month:t}=this.parseUrlParams();return t=t>12||isNaN(t)?(new Date).getMonth()+1:t,e=e<2020||e>2060||isNaN(e)?(new Date).getFullYear():e,{year:e,month:t}}parseUrlParams(){const e=window.location.search.substr(1),t={};return e.replace(/([\w\d]+)=([^&]+)/g,((e,n,r)=>{t[n]=isNaN(r)?r:parseInt(r,10)})),t}rerenderCalendar(){if(!this.currentMonthsEvents)throw new Error("Cannot rerender without data");this.renderCalendar(this.currentMonthsEvents)}renderCalendar(e){this.currentMonthsEvents=e,window.removeEventListener("calendarClicked",this.dateClickListener);const t=this.calcMonth(this.currentYear,this.currentMonth),n=this.renderCal.createHtmlFor(this.currentYear,this.currentMonth)(t);for(let e of this.shadow.children)"string"==typeof e.type&&"text/css"===e.type||this.shadow.removeChild(e);this.shadow.appendChild(n)}calcMonth(e,t){let n=[];const r=this.createFirstCalendarRow(e,t);n.push(r.row);let a=0;do{n.push(this.createCalendarRowStartingAt(r.lastDate+1+7*a)),a++}while(r.lastDate+7*a<this.getLastDateOfMonth(e,t));return this.correctLastRowOf(n,e,t),n}createFirstCalendarRow(e,t){const n=`${e}-${a(t)}-01T00:00:00`,r=new Date(n).getDay(),s=this.getLastDateOfPreviousMonth(e,t);let o;if(1===r)this.createCalendarRowStartingAt(1),o=[];else if(0===r)o=[...Array(6).keys()].map((e=>this.createDayObject(s-5+e,!1)));else{const e=s-r;o=[...Array(r-1).keys()].map((t=>this.createDayObject(t+e+2,!1)))}const i=7-o.length,h=[...Array(i).keys()].map((e=>this.createDayObject(e+1)));return{lastDate:i,row:[...o,...h]}}createCalendarRowStartingAt(e){return[...Array(7).keys()].map((t=>this.createDayObject(t+e)))}createDayObject(e,t=!0){const n=`${s(this.currentYear,this.currentMonth)}-${a(e)}`;return{date:e,isSelectedMonth:t,events:t?this.eventRepository.getMonthEventsForDateFromCache(n):[]}}getLastDateOfPreviousMonth(e,t){t>12&&(e++,t=1);const n=`00${t}`.substr(-2);return new Date(new Date(`${e}-${n}-01`).setHours(-1)).getDate()}getLastDateOfMonth(e,t){const n=parseInt(e,10),r=parseInt(t,10);return this.getLastDateOfPreviousMonth(n,r+1)}correctLastRowOf(e,t,n){const r=this.getLastDateOfMonth(t,n),a=e.length-1;e[a]=e[a].map((e=>e.date>r?this.createDayObject(e.date-r,!1):e))}dateClickListener(e){const t=e.detail;if("date-clicked"===t.type){const e=t.dateRequested,n=this.eventRepository.getMonthEventsForDateFromCache(e),r=new CustomEvent("events-for-date",{bubbles:!0,composed:!0,detail:{events:n,date:e}});this.dispatchEvent(r)}}}customElements.define("events-calendar",p)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLElBRXJDLE9BQU90RCxLQUFLeVAsMkJBQTJCWSxFQUFhQyxFQUFlLEdBSXJFakIsaUJBQWlCTixFQUFVMUwsRUFBTUMsR0FDL0IsTUFBTWlOLEVBQVV2USxLQUFLb1AsbUJBQW1CL0wsRUFBTUMsR0FDeENrTixFQUFhekIsRUFBU3JPLE9BQVMsRUFFckNxTyxFQUFTeUIsR0FBY3pCLEVBQVN5QixHQUFZL0ssS0FBSWdMLEdBQzFDQSxFQUFFN0YsS0FBTzJGLEVBQWdCdlEsS0FBSzRQLGdCQUFnQmEsRUFBRTdGLEtBQU8yRixHQUFTLEdBQ3hERSxJQVloQmpELGtCQUFrQmtELEdBQ2hCLE1BQU1DLEVBQWVELEVBQW9COUcsT0FFekMsR0FBMEIsaUJBQXRCK0csRUFBYWpNLEtBQXlCLENBQ3hDLE1BQU1rRyxFQUFPK0YsRUFBYXJILGNBQ3BCOUMsRUFBU3hHLEtBQUswTSxnQkFBZ0JyRywrQkFBK0J1RSxHQUU3RGdHLEVBQVksSUFBSWpILFlBQVksa0JBQW1CLENBQ25Ea0gsU0FBUyxFQUNUQyxVQUFVLEVBQ1ZsSCxPQUFRLENBQ05wRCxPQUFBQSxFQUNBb0UsS0FBQUEsS0FJSjVLLEtBQUs2SixjQUFjK0csS0FLekJHLGVBQWVDLE9BQU8sa0JBQW1CNUUsSSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9fc3RhdGljcy9jYWxlbmRhci9kZXBzL2VtaXR0ZXIuanM/MzVlZSIsIltuYW1lXS5tYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0PzhmNzkiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycz82YzlmIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kPzhiYzUiLCJ3ZWJwYWNrOi8vLy4vc3JjL19zdGF0aWNzL2NhbGVuZGFyL3V0aWxpdGllcy5qcz85ZGY0Iiwid2VicGFjazovLy8uL3NyYy9fc3RhdGljcy9jYWxlbmRhci9kb21haW4vZXZlbnQtcmVwb3NpdG9yeS5qcz8wOTJjIiwid2VicGFjazovLy8uL3NyYy9fc3RhdGljcy9jYWxlbmRhci9kb21haW4vcmVuZGVyLWNhbGVuZGFyLmpzPzVjN2MiLCJ3ZWJwYWNrOi8vLy4vc3JjL19zdGF0aWNzL2NhbGVuZGFyL2NvbXBvbmVudHMvZXZlbnRzLWNhbGVuZGFyLmpzPzY4ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIEV4cG9zZSBgRW1pdHRlcmAuXG4gKi9cblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBFbWl0dGVyYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xufTtcblxuLyoqXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBmb3IgKHZhciBrZXkgaW4gRW1pdHRlci5wcm90b3R5cGUpIHtcbiAgICBvYmpba2V5XSA9IEVtaXR0ZXIucHJvdG90eXBlW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9uID1cbkVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG4gICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSlcbiAgICAucHVzaChmbik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGRzIGFuIGBldmVudGAgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYSBzaW5nbGVcbiAqIHRpbWUgdGhlbiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIGZ1bmN0aW9uIG9uKCkge1xuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XG4gICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIG9uLmZuID0gZm47XG4gIHRoaXMub24oZXZlbnQsIG9uKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGBldmVudGAgb3IgYWxsXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vZmYgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG5cbiAgLy8gYWxsXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHNwZWNpZmljIGV2ZW50XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XG5cbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxuICB2YXIgY2I7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2IgPSBjYWxsYmFja3NbaV07XG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcbiAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgZXZlbnQgc3BlY2lmaWMgYXJyYXlzIGZvciBldmVudCB0eXBlcyB0aGF0IG5vXG4gIC8vIG9uZSBpcyBzdWJzY3JpYmVkIGZvciB0byBhdm9pZCBtZW1vcnkgbGVhay5cbiAgaWYgKGNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBFbWl0IGBldmVudGAgd2l0aCB0aGUgZ2l2ZW4gYXJncy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7TWl4ZWR9IC4uLlxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQpe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG5cbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gIH1cblxuICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XG59O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIlxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGVGcm9tU3RyaW5nKGRhdGVTdHIpIHtcbiAgbGV0IHBkID0gbmV3IERhdGUoZGF0ZVN0cik7XG4gIHJldHVybiBgJHsgcGQuZ2V0RnVsbFllYXIoKSB9LSR7IHplcm9QYWQocGQuZ2V0TW9udGgoKSArIDEpIH0tJHsgemVyb1BhZChwZC5nZXREYXRlKCkpIH1gO1xufVxuXG5leHBvcnQgY29uc3QgZm9ybWF0RGF0ZUZyb21EYXRlT2JqID0gKGRhdGVPYmopID0+XG4gIGAkeyBkYXRlT2JqLmdldEZ1bGxZZWFyKCkgfS0keyB6ZXJvUGFkKGRhdGVPYmouZ2V0TW9udGgoKSArIDEpIH0tJHsgemVyb1BhZChkYXRlT2JqLmdldERhdGUoKSkgfWA7XG5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdFllYXJNb250aCh5ZWFyTW9udGgpIHtcbiAgY29uc3QgW3llYXIsIG1vbnRoXSA9IHllYXJNb250aC5zcGxpdCgnLScpO1xuICByZXR1cm4ge1xuICAgIHllYXI6IHBhcnNlSW50KHllYXIsIDEwKSxcbiAgICBtb250aDogcGFyc2VJbnQobW9udGgsIDEwKSxcbiAgICB5ZWFyTW9udGhJZDogeWVhck1vbnRoLnN1YnN0cigwLCA3KSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gemVyb1BhZChzb21lTnVtYmVyLCBsZW5ndGggPSAyKSB7XG4gIGlmICghbGVuZ3RoKSBsZW5ndGggPSAyO1xuICByZXR1cm4gYDAwJHtzb21lTnVtYmVyfWAuc3Vic3RyKC0xICogbGVuZ3RoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFllYXJNb250aCh5ZWFyLCBtb250aCkge1xuICByZXR1cm4gYCR7emVyb1BhZCh5ZWFyLCA0KX0tJHt6ZXJvUGFkKG1vbnRoKX1gO1xufVxuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlUHJldmlvdXNNb250aERheUNvdW50ID0gKGN1cnJlbnRNb250aCwgeWVhcikgPT4ge1xuICBjb25zdCBmaXJzdERheUN1cnJlbnRNb250aCA9IGAke3llYXJ9LSR7emVyb1BhZChjdXJyZW50TW9udGgpfS0wMWA7XG4gIGNvbnN0IGZpcnN0V2Vla2RheUN1cnJlbnRNb250aCA9IG5ldyBEYXRlKGZpcnN0RGF5Q3VycmVudE1vbnRoKS5nZXREYXkoKTtcbiAgcmV0dXJuIChmaXJzdFdlZWtkYXlDdXJyZW50TW9udGggLSAxIDwgMClcbiAgICA/IDZcbiAgICA6IGZpcnN0V2Vla2RheUN1cnJlbnRNb250aCAtIDE7XG59XG5cbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVOZXh0WWVhck1vbnRoID0gKG1vbnRoLCB5ZWFyKSA9PiB7XG4gIG1vbnRoKys7XG4gIGlmIChtb250aCA+IDEyKSB7XG4gICAgbW9udGggPSAxO1xuICAgIHllYXIrKztcbiAgfVxuICByZXR1cm4geyBtb250aCwgeWVhciB9O1xufVxuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlUHJldmlvdXNZZWFyTW9udGggPSAobW9udGgsIHllYXIpID0+IHtcbiAgbW9udGgtLTtcbiAgaWYgKG1vbnRoIDwgMSkge1xuICAgIG1vbnRoID0gMTI7XG4gICAgeWVhci0tO1xuICB9XG4gIHJldHVybiB7IG1vbnRoLCB5ZWFyIH07XG59XG5cbmV4cG9ydCBjb25zdCBnZXRQcmV2aW91c01vbnRoTGFzdFdlZWtGcm9tU3RyaW5nID0gKGRhdGVTdHJpbmcpID0+IHtcbiAgY29uc3QgW3llYXJTdHIsIG1vbnRoU3RyLCBkYXRlXSA9IGRhdGVTdHJpbmcuc3BsaXQoJy0nKTtcbiAgY29uc3QgZGF5c0luUHJldmlvdXNNb250aCA9IGNhbGN1bGF0ZVByZXZpb3VzTW9udGhEYXlDb3VudChcbiAgICBwYXJzZUludChtb250aFN0ciwgMTApLFxuICAgIHBhcnNlSW50KHllYXJTdHIsIDEwKVxuICApO1xuICByZXR1cm4gZ2VuZXJhdGVORGF0ZXNCZWdpbm5pbmdPbihcbiAgICBgJHtkYXRlU3RyaW5nLnN1YnN0cigwLDcpfS0wMWAsXG4gICAgZGF5c0luUHJldmlvdXNNb250aFxuICApO1xufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVORGF0ZXNCZWdpbm5pbmdPbiA9IChmaXJzdERhdGUsIGNvdW50KSA9PiB7XG4gIGNvbnN0IGJlZ2lubmluZ0RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShmaXJzdERhdGUpIC0gY291bnQgKiAyNCAqIDM2MDAgKiAxMDAwKTtcbiAgbGV0IGRhdGVMaXN0ID0gW2Zvcm1hdERhdGVGcm9tRGF0ZU9iaihiZWdpbm5pbmdEYXRlKV07XG4gIGZvciAobGV0IG49MTsgbiA8IGNvdW50OyBuKyspIHtcbiAgICBkYXRlTGlzdC5wdXNoKGZvcm1hdERhdGVGcm9tRGF0ZU9iaihuZXcgRGF0ZShuZXcgRGF0ZShiZWdpbm5pbmdEYXRlKSAqIDEgKyBuICogMjQgKiAzNjAwICogMTAwMCkpKTtcbiAgfVxuICByZXR1cm4gZGF0ZUxpc3Q7XG59XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRZZWFyTW9udGhGcm9tRGF0ZSA9IGRhdGVPYmogPT5cbiAgYCR7IGRhdGVPYmouZ2V0RnVsbFllYXIoKSB9LSR7IHplcm9QYWQoZGF0ZU9iai5nZXRNb250aCgpICsgMSkgfWA7XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRZZWFyTW9udGhGcm9tRGF0ZVN0cmluZyA9IGRhdGVTdHJpbmcgPT5cbiAgZGF0ZVN0cmluZy5zdWJzdHIoMCwgNyk7XG5cbi8vIFBhcmFtZXRlcnMgcmVmbGVjdCBodW1hbiBtb250aHMsIE5PVCBKYXZhc2NyaXB0IG1vbnRocywgd2hlcmUgMCAtPiBKYW5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVNb250aEZyb21PZmZzZXQobW9udGgsIHllYXIsIG1vbnRoT2Zmc2V0ID0gMCkge1xuICBsZXQgdGFyZ2V0TW9udGggPSBtb250aCArIG1vbnRoT2Zmc2V0O1xuICBsZXQgdGFyZ2V0WWVhciA9IHllYXI7XG5cbiAgaWYgKHRhcmdldE1vbnRoIDwgMSkge1xuICAgIHRhcmdldE1vbnRoID0gMTIgKyB0YXJnZXRNb250aDtcbiAgICB0YXJnZXRZZWFyLS07XG4gIH0gZWxzZSBpZiAodGFyZ2V0TW9udGggPiAxMikge1xuICAgIHRhcmdldE1vbnRoID0gdGFyZ2V0TW9udGggLSAxMjtcbiAgICB0YXJnZXRZZWFyKys7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vbnRoOiB0YXJnZXRNb250aCxcbiAgICB5ZWFyOiB0YXJnZXRZZWFyXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZU1vbnRoUmFuZ2VGb3IobW9udGhDb3VudCkge1xuICBsZXQgbW9udGhPZmZzZXRzO1xuICBpZiAodHlwZW9mIG1vbnRoQ291bnQgPT09ICdudW1iZXInKSB7XG4gICAgbW9udGhPZmZzZXRzID0gQXJyYXkuZnJvbSh7bGVuZ3RoOiBtb250aENvdW50fSwgKHYsIGkpID0+IGkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb250aENvdW50ID09PSAnc3RyaW5nJykge1xuICAgIG1vbnRoT2Zmc2V0cyA9IEFycmF5LmZyb20oe2xlbmd0aDogcGFyc2VJbnQobW9udGhDb3VudCwgMTApIHx8IDB9LCAodiwgaSkgPT4gaSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShtb250aENvdW50KSkge1xuICAgIG1vbnRoT2Zmc2V0cyA9IG1vbnRoQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignUGFyYW1ldGVyIGhhcyB1bmtub3duIGZvcm1hdCcsIG1vbnRoQ291bnQsIHR5cGVvZiBtb250aENvdW50KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZnJvbTogKHllYXIsIG1vbnRoKSA9PlxuICAgICAgbW9udGhPZmZzZXRzLm1hcChvID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIDEsIDAsIDAsIDApO1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoY3VycmVudERhdGUuc2V0TW9udGgoY3VycmVudERhdGUuZ2V0TW9udGgoKSArIDEgKyBvKSlcbiAgICAgIH0pLFxuICAgIHVudGlsOiAoeWVhciwgbW9udGgpID0+XG4gICAgICBtb250aE9mZnNldHMubWFwKG8gPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgMSwgMCwgMCwgMCk7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShjdXJyZW50RGF0ZS5zZXRNb250aChjdXJyZW50RGF0ZS5nZXRNb250aCgpIC0gMSAtIG8pKVxuICAgICAgfSksXG4gICAgd2l0aEZpeGVkOiAobW9udGgsIHllYXIpID0+XG4gICAgICBtb250aE9mZnNldHMubWFwKG8gPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgMSwgMCwgMCwgMCk7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShjdXJyZW50RGF0ZS5zZXRNb250aChjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgbykpXG4gICAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdWdtZW50Qm9keUNsYXNzKCkge1xuICBsZXQgYm9keUNsYXNzID0gWy4uLmFyZ3VtZW50c107XG4gIGNvbnN0IGJvZHlUYWdSZWYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdO1xuICBpZiAoYm9keVRhZ1JlZi5oYXNBdHRyaWJ1dGUoJ2NsYXNzJykpIHtcbiAgICBib2R5Q2xhc3MgPSBib2R5VGFnUmVmXG4gICAgICAuZ2V0QXR0cmlidXRlKCdjbGFzcycpXG4gICAgICAuc3BsaXQoJyAnKVxuICAgICAgLmNvbmNhdChib2R5Q2xhc3MpXG4gICAgICAuam9pbignICcpO1xuICB9XG4gIGJvZHlUYWdSZWYuc2V0QXR0cmlidXRlKCdjbGFzcycsIGJvZHlDbGFzcyk7XG59XG5cbmV4cG9ydCBjb25zdCB0b1llYXJNb250aCA9IGRhdGVPYmogPT5cbiAgYCR7IGRhdGVPYmouZ2V0RnVsbFllYXIoKSB9LSR7IHplcm9QYWQoZGF0ZU9iai5nZXRNb250aCgpICsgMSkgfWA7XG5cbmV4cG9ydCBjbGFzcyBOb0RhdGFFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmV4cG9ydCBjb25zdCBFdmVudERhdGUgPSBmdWxsRGF0ZSA9PiAoe1xuXG4gIGdldCB5ZWFyKCkge1xuICAgIHJldHVybiBwYXJzZUludChmdWxsRGF0ZS5zcGxpdCgnLScpWzBdLCAxMCk7XG4gIH0sXG5cbiAgZ2V0IG1vbnRoKCkge1xuICAgIHJldHVybiBwYXJzZUludChmdWxsRGF0ZS5zcGxpdCgnLScpWzFdLCAxMCk7XG4gIH0sXG5cbiAgZ2V0IHllYXJTdHIoKSB7XG4gICAgcmV0dXJuIGZ1bGxEYXRlLnNwbGl0KCctJylbMF07XG4gIH0sXG5cbiAgZ2V0IG1vbnRoU3RyKCkge1xuICAgIHJldHVybiBmdWxsRGF0ZS5zcGxpdCgnLScpWzFdO1xuICB9LFxuXG4gIGdldCBkYXkoKSB7XG4gICAgcmV0dXJuIChmdWxsRGF0ZS5zcGxpdCgnLScpWzJdKSA/IGZ1bGxEYXRlLnNwbGl0KCctJylbMl0gOiAxO1xuICB9LFxuXG4gIGdldCB5ZWFyTW9udGhJZCgpIHtcbiAgICByZXR1cm4gZnVsbERhdGUuc3Vic3RyKDAsNyk7XG4gIH1cbn0pXG4iLCJpbXBvcnQgRW1pdHRlciBmcm9tICcuLi9kZXBzL2VtaXR0ZXInO1xuaW1wb3J0IHtcbiAgRXZlbnREYXRlLFxuICBmb3JtYXRZZWFyTW9udGgsXG4gIGZvcm1hdFllYXJNb250aEZyb21EYXRlU3RyaW5nLFxuICBmb3JtYXREYXRlRnJvbVN0cmluZyxcbiAgY2FsY3VsYXRlTW9udGhSYW5nZUZvcixcbiAgTm9EYXRhRXJyb3IsXG4gIHNwbGl0WWVhck1vbnRoLFxufSBmcm9tICcuLi91dGlsaXRpZXMnO1xuXG5jbGFzcyBFdmVudFJlcG9zaXRvcnkge1xuICBzZXJ2ZXJEb21haW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuICBldmVudFN0b3JhZ2UgPSB7fTtcbiAgbG9hZEV2ZW50c1dvcmtlciA9IG51bGw7XG4gIHBhdGhUb1dvcmtlckxvYWRlciA9ICcvanMvd29ya2Vycyc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdGFydFdlYldvcmtlcigpO1xuICB9XG5cbiAgc3RhcnRXZWJXb3JrZXIoKSB7XG4gICAgY29uc3Qgd29ya2VyVXJsID0gYCR7dGhpcy5zZXJ2ZXJEb21haW59JHt0aGlzLnBhdGhUb1dvcmtlckxvYWRlcn0vZXZlbnQtZGF0YS1sb2FkZXIud29ya2VyLmpzYDtcbiAgICB0aGlzLmxvYWRFdmVudHNXb3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVybCk7XG4gICAgdGhpcy5sb2FkRXZlbnRzV29ya2VyLm9ubWVzc2FnZSA9IHRoaXMucHJvY2Vzc1dvcmtlck1lc3NhZ2U7XG4gICAgdGhpcy5sb2FkRXZlbnRzV29ya2VyLm9uZXJyb3IgPSAoZXJyKSA9PiBjb25zb2xlLndhcm4oJ0Vycm9yJywgZXJyKTtcbiAgICB0aGlzLmxvYWRFdmVudHNXb3JrZXIub25tZXNzYWdlZXJyb3IgPSAoZXJyKSA9PiBjb25zb2xlLndhcm4oJ01lc3NhZ2VFcnJvcicsIGVycik7XG4gIH1cblxuICBnZXRBbGxFdmVudHNJblllYXJNb250aCh5ZWFyLCBtb250aCkge1xuICAgIGlmICh0aGlzLnNob3VsZExvYWRGcm9tU2VydmVyKHllYXIsIG1vbnRoKSkge1xuICAgICAgdGhpcy5sb2FkRXZlbnRzRm9yTW9udGgoeWVhciwgbW9udGgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW1pdERhdGFBdmFpbGFibGVFdmVudChgJHt5ZWFyfS0ke21vbnRofWApXG4gICAgfVxuICB9XG5cbiAgc2hvdWxkTG9hZEZyb21TZXJ2ZXIgPSAoeWVhciwgbW9udGgpID0+XG4gICAgIXRoaXMuZXZlbnRTdG9yYWdlW2AkeyBmb3JtYXRZZWFyTW9udGgoeWVhciwgbW9udGgpIH1gXTtcblxuICBsb2FkRXZlbnRzRm9yTW9udGggPSAoeWVhciwgbW9udGgpID0+XG4gICAgdGhpcy5sb2FkRXZlbnRzV29ya2VyLnBvc3RNZXNzYWdlKHsgeWVhciwgbW9udGgsIGRvbWFpbjogdGhpcy5zZXJ2ZXJEb21haW4gfSk7XG5cbiAgZW1pdERhdGFBdmFpbGFibGVFdmVudCh5ZWFyTW9udGgpIHtcbiAgICBjb25zdCBldmVudERhdGUgPSBFdmVudERhdGUoeWVhck1vbnRoKTtcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgbW9udGg6IGV2ZW50RGF0ZS55ZWFyTW9udGhJZCxcbiAgICAgIGV2ZW50c0luTW9udGg6IHRoaXMuZXZlbnRTdG9yYWdlW2V2ZW50RGF0ZS55ZWFyTW9udGhJZF1cbiAgICB9O1xuICAgIHRoaXMuZW1pdCgnZXZlbnRzRm9yTW9udGhBdmFpbGFibGUnLCBwYXlsb2FkKTtcbiAgfVxuXG4gIHByb2Nlc3NXb3JrZXJNZXNzYWdlID0gbXNnID0+IHtcbiAgICBpZiAobXNnLnR5cGUgIT09ICdlcnJvcicpIHtcbiAgICAgIHRoaXMuY2FjaGVFdmVudHMobXNnLmRhdGEpO1xuICAgICAgdGhpcy5lbWl0RGF0YUF2YWlsYWJsZUV2ZW50KG1zZy5kYXRhLm1vbnRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgTm9EYXRhRXJyb3IobXNnLmRhdGEubXNnKTtcbiAgICAgIHRoaXMuZW1pdCgnZXZlbnREYXRhRXJyb3InLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNhY2hlRXZlbnRzID0gZXZlbnRMaXN0T2JqZWN0ID0+XG4gICAgdGhpcy5ldmVudFN0b3JhZ2VbZXZlbnRMaXN0T2JqZWN0Lm1vbnRoXSA9IGV2ZW50TGlzdE9iamVjdDtcblxuICBwcmVsb2FkQWRqYWNlbnRNb250aHNFdmVudHMgPSAobW9udGgsIHllYXIsIG1vbnRoT2Zmc2V0c1RvTG9hZCA9IFstMSwgMV0pID0+IHtcbiAgICAvLyBjb25zdCBtb250aE9mZnNldHNUb0xvYWQgPSBbLTEsIDFdO1xuICAgIGNhbGN1bGF0ZU1vbnRoUmFuZ2VGb3IobW9udGhPZmZzZXRzVG9Mb2FkKVxuICAgICAgLndpdGhGaXhlZChtb250aCwgeWVhcilcbiAgICAgIC5tYXAoZm9ybWF0RGF0ZUZyb21TdHJpbmcpXG4gICAgICAuZm9yRWFjaChmdWxsRGF0ZSA9PiB7XG4gICAgICAgIGNvbnN0IHllYXJNb250aCA9IGZvcm1hdFllYXJNb250aEZyb21EYXRlU3RyaW5nKGZ1bGxEYXRlKTtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50U3RvcmFnZVt5ZWFyTW9udGhdKSB7XG4gICAgICAgICAgY29uc3QgeyB5ZWFyLCBtb250aCB9ID0gc3BsaXRZZWFyTW9udGgoeWVhck1vbnRoKTtcbiAgICAgICAgICB0aGlzLmxvYWRFdmVudHNGb3JNb250aCh5ZWFyLCBtb250aCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cbiAgZ2V0TW9udGhFdmVudHNGb3JEYXRlRnJvbUNhY2hlID0gZGF0ZVN0cmluZyA9PiB7XG4gICAgY29uc3QgeWVhck1vbnRoID0gZGF0ZVN0cmluZy5zdWJzdHIoMCwgNyk7XG4gICAgcmV0dXJuICh0aGlzLmhhc0RhdGEoZGF0ZVN0cmluZykpID9cbiAgICAgIHRoaXMuZXZlbnRTdG9yYWdlW3llYXJNb250aF0uZXZlbnRzW2RhdGVTdHJpbmddIDpcbiAgICAgIFtdO1xuICB9XG5cbiAgaGFzRGF0YSA9IGZ1bGxEYXRlU3RyaW5nID0+IHtcbiAgICBjb25zdCB5ZWFyTW9udGggPSBmdWxsRGF0ZVN0cmluZy5zdWJzdHIoMCwgNyk7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRTdG9yYWdlW3llYXJNb250aF0gJiZcbiAgICAgIHRoaXMuZXZlbnRTdG9yYWdlW3llYXJNb250aF0uZXZlbnRzW2Z1bGxEYXRlU3RyaW5nXTtcbiAgfVxufVxuXG5FbWl0dGVyKEV2ZW50UmVwb3NpdG9yeS5wcm90b3R5cGUpO1xuXG5leHBvcnQgZGVmYXVsdCBFdmVudFJlcG9zaXRvcnk7XG4iLCJpbXBvcnQgeyBmb3JtYXREYXRlRnJvbVN0cmluZyB9IGZyb20gJy4uL3V0aWxpdGllcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlckNhbGVuZGFyIHtcblxuICBldmVudERpc3BsYXlMaW1pdCA9IDM7XG4gIG1vbnRoTmFtZXMgPSBbJycsICdKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScgLCdKdW5lJyxcbiAgICAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJyAsJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcbiAgZGF5RWxlbWVudCA9ICc8dGQgY2xhc3M9XCJ7eyBkYXRlU3R5bGUgfX1cIiBkYXRhLWRhdGU9XCJ7eyBjYWxlbmRhckRhdGUgfX1cIj48YSBocmVmPVwie3sgY2FsZW5kYXJEYXRlIH19XCIgY2xhc3M9XCJldmVudC1kYXlcIj57eyBkYXkgfX08L2E+e3sgZXZlbnRzIH19PC90ZD4nO1xuICBldmVudExpc3QgPSAnPGxpPjxhIGhyZWY9XCJ7eyB1cmwgfX1cIiB0YXJnZXQ9XCJfYmxhbmtcIj57eyBsaW5rTGFiZWwgfX08L2E+PC9saT4nO1xuICBoZWFkZXIgPSAnPGRpdiBjbGFzcz1cImNhbGVuZGFyLW1vbnRoXCI+PGEgY2xhc3M9XCJjYWxlbmRhci1wcmV2bW9udGhcIiBvbmNsaWNrPVwicHJldmlvdXMoKVwiPlByZXY8L2E+PGgyPnt7IG1vbnRoIH19IHt7IHllYXIgfX08L2gyPjxhIGNsYXNzPVwiY2FsZW5kYXItbmV4dG1vbnRoXCIgb25jbGljaz1cIm5leHQoKVwiPk5leHQ8L2E+PC9kaXY+JztcblxuICBjcmVhdGVIdG1sRm9yKHllYXIsIG1vbnRoKSB7XG4gICAgcmV0dXJuIGNhbGVuZGFyTW9udGhBcnJheSA9PiB7XG5cbiAgICAgIGNvbnN0IHdpdGhNb250aCA9IHRoaXMucmVwbGFjZVRhZ0luSHRtbFN0cmluZygnbW9udGgnLCB0aGlzLm1vbnRoTmFtZXNbbW9udGhdLCB0aGlzLmhlYWRlcik7XG4gICAgICBjb25zdCBkYXRlSGVhZGVyID0gdGhpcy5yZXBsYWNlVGFnSW5IdG1sU3RyaW5nKCd5ZWFyJywgeWVhciwgd2l0aE1vbnRoKTtcbiAgICAgIGNvbnN0IGhlYWRlck5vZGVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBoZWFkZXJOb2Rlcy5pbm5lckhUTUwgPSBkYXRlSGVhZGVyXG5cbiAgICAgIGNvbnN0IHRhYmxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICAgICAgdGFibGVFbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2V2ZW50LWNhbGVuZGFyJyk7XG4gICAgICB0YWJsZUVsLnNldEF0dHJpYnV0ZSgnaWQnLCAnZXZlbnQtY2FsZW5kYXInKTtcblxuICAgICAgY29uc3QgdGFibGVIZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGhlYWQnKTtcbiAgICAgIHRhYmxlSGVhZC5pbm5lckhUTUwgPSB0aGlzLmdlbmVyYXRlVGFibGVIZWFkZXIoKVxuXG4gICAgICBjb25zdCB0YWJsZUJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICAgICAgdGFibGVCb2R5LmlubmVySFRNTCA9IHRoaXMuZ2VuZXJhdGVDYWxlbmRhclJvd3MoY2FsZW5kYXJNb250aEFycmF5LCB5ZWFyLCBtb250aCkuam9pbignJyk7XG5cbiAgICAgIHRhYmxlRWwuYXBwZW5kQ2hpbGQodGFibGVIZWFkKTtcbiAgICAgIHRhYmxlRWwuYXBwZW5kQ2hpbGQodGFibGVCb2R5KTtcblxuICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjYWwtY29udGFpbmVyJyk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGVyTm9kZXMpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlRWwpO1xuXG4gICAgICB0YWJsZUVsLm9uY2xpY2sgPSBldnQgPT4ge1xuICAgICAgICBpZiAoZXZ0LnRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHtcbiAgICAgICAgICBjb25zdCB0ZE5vZGUgPSB0aGlzLnJldHVyblRhYmxlQ2VsbE5vZGUoZXZ0LnBhdGgpO1xuICAgICAgICAgIGNvbnN0IGRhdGVSZXF1ZXN0ZWQgPSB0ZE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWRhdGUnKTtcbiAgICAgICAgICBjb25zdCBldmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICB0eXBlOiAnZGF0ZS1jbGlja2VkJyxcbiAgICAgICAgICAgIGRhdGVSZXF1ZXN0ZWRcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgZWxDbGlja2VkRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhbGVuZGFyQ2xpY2tlZCcsIHsgZGV0YWlsOiBldmVudFBheWxvYWQgfSk7XG4gICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZWxDbGlja2VkRXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm5UYWJsZUNlbGxOb2RlKG5vZGVQYXRoKSB7XG4gICAgbGV0IG5vZGVQYXRoSW5kZXggPSAwO1xuICAgIGNvbnN0IGlzUmVxdWlyZWRUZE5vZGUgPSBub2RlUmVmID0+XG4gICAgICBub2RlUmVmLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0ZCcgJiZcbiAgICAgIG5vZGVSZWYuY2xhc3NOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2N1cnJlbnQtbW9udGgnKVxuXG4gICAgd2hpbGUgKG5vZGVQYXRoW25vZGVQYXRoSW5kZXhdICYmICFpc1JlcXVpcmVkVGROb2RlKG5vZGVQYXRoW25vZGVQYXRoSW5kZXhdKSlcbiAgICAgIG5vZGVQYXRoSW5kZXgrK1xuXG4gICAgaWYgKCFub2RlUGF0aFtub2RlUGF0aEluZGV4XSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGFibGUgY2FsbCBub2RlIG5vdCBmb3VuZCcpO1xuICAgIHJldHVybiBub2RlUGF0aFtub2RlUGF0aEluZGV4XTtcbiAgfVxuXG4gIGdlbmVyYXRlVGFibGVIZWFkZXIoKSB7XG4gICAgcmV0dXJuIFwiPHRyPlwiICsgWydNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCcsICdTdW4nXVxuICAgICAgLm1hcChkYXkgPT4gYDx0ZD4ke2RheX08L3RkPmApXG4gICAgICAuam9pbignJykgKyBcIjwvdHI+XCJcblxuICB9XG5cbiAgZ2VuZXJhdGVDYWxlbmRhclJvd3MobW9udGhEZXNjcmlwdGlvbiwgeWVhciwgbW9udGgpIHtcbiAgICByZXR1cm4gbW9udGhEZXNjcmlwdGlvbi5tYXAoICh3ZWVrQ29uZmlnLCByb3cpID0+IHtcbiAgICAgIHJldHVybiAnPHRyPicgK1xuICAgICAgICB3ZWVrQ29uZmlnLnJlZHVjZSh0aGlzLnJlbmRlckNhbGVuZGFyRGF5KHJvdywgeWVhciwgbW9udGgpLmJpbmQodGhpcyksICcnKSArXG4gICAgICAgICc8L3RyPic7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXJDYWxlbmRhckRheShjYWxlbmRhclJvdywgeWVhciwgbW9udGgpIHtcbiAgICByZXR1cm4gKGFjYywgZGF0ZSkgPT4ge1xuICAgICAgY29uc3QgaXNXZWVrZW5kID0gWzAsIDZdLmluY2x1ZGVzKG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZS5kYXRlKS5nZXREYXkoKSk7XG4gICAgICBjb25zdCBkYXRlU3R5bGUgPSAoaXNXZWVrZW5kKSA/ICd3ZWVrZW5kLWRheSAnIDogJyc7XG4gICAgICBsZXQgcmVuZGVyZWQgPVxuICAgICAgICB0aGlzLnJlcGxhY2VUYWdJbkh0bWxTdHJpbmcoJ2V2ZW50cycsIHRoaXMucmVuZGVyRXZlbnRzRm9yRGF5KGRhdGUuZXZlbnRzKSwgdGhpcy5kYXlFbGVtZW50KTtcblxuICAgICAgcmVuZGVyZWQgPSB0aGlzLnJlcGxhY2VUYWdJbkh0bWxTdHJpbmcoJ2RheScsIGRhdGUuZGF0ZSwgcmVuZGVyZWQpO1xuICAgICAgaWYgKGNhbGVuZGFyUm93ID09PSAwICYmIHBhcnNlSW50KGRhdGUuZGF0ZSwgMTApID4gMjApIHtcbiAgICAgICAgLy8gUHJldmlvdXMgbW9udGgncyBkYXRlc1xuICAgICAgICByZW5kZXJlZCA9IHRoaXMucmVwbGFjZVRhZ0luSHRtbFN0cmluZygnZGF0ZVN0eWxlJywgYCR7ZGF0ZVN0eWxlfWJvcmRlcmluZy1tb250aGAsIHJlbmRlcmVkKTtcbiAgICAgICAgcmVuZGVyZWQgPSB0aGlzLnJlbW92ZUF0dHJpYnV0ZUZyb21IdG1sU3RyaW5nKCdkYXRhLWRhdGUnLCByZW5kZXJlZCk7XG4gICAgICB9IGVsc2UgaWYgKGNhbGVuZGFyUm93ID4gMyAmJiBwYXJzZUludChkYXRlLmRhdGUsIDEwKSA8IDcpIHtcbiAgICAgICAgLy8gTmV4dCBtb250aCdzIGRhdGVzXG4gICAgICAgIHJlbmRlcmVkID0gdGhpcy5yZXBsYWNlVGFnSW5IdG1sU3RyaW5nKCdkYXRlU3R5bGUnLCBgJHtkYXRlU3R5bGV9Ym9yZGVyaW5nLW1vbnRoYCwgcmVuZGVyZWQpO1xuICAgICAgICByZW5kZXJlZCA9IHRoaXMucmVtb3ZlQXR0cmlidXRlRnJvbUh0bWxTdHJpbmcoJ2RhdGEtZGF0ZScsIHJlbmRlcmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlcmVkID0gdGhpcy5yZXBsYWNlVGFnSW5IdG1sU3RyaW5nKCdkYXRlU3R5bGUnLCBgJHtkYXRlU3R5bGV9Y3VycmVudC1tb250aGAsIHJlbmRlcmVkKTtcbiAgICAgICAgbGV0IGRhdGVPYmogPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtMSwgZGF0ZS5kYXRlKTtcbiAgICAgICAgcmVuZGVyZWQgPSB0aGlzLnJlcGxhY2VUYWdJbkh0bWxTdHJpbmcoJ2NhbGVuZGFyRGF0ZScsIGZvcm1hdERhdGVGcm9tU3RyaW5nKGRhdGVPYmopLCByZW5kZXJlZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2MgKyByZW5kZXJlZDtcbiAgICB9XG4gIH1cblxuICByZXBsYWNlVGFnSW5IdG1sU3RyaW5nKHRhZ0lkLCBjb250ZW50LCBlbGVtZW50KSB7XG4gICAgY29uc3Qgd29ya0VsZW1lbnQgPSBlbGVtZW50IHx8IHRoaXMuZGF5RWxlbWVudDtcbiAgICBjb25zdCByZXBsYWNlbWVudEV4cHIgPSBcIlxcXFx7XFxcXHtcXFxccypcIiArIHRhZ0lkICsgXCJcXFxccypcXFxcfVxcXFx9XCI7XG4gICAgcmV0dXJuIHdvcmtFbGVtZW50LnJlcGxhY2UobmV3IFJlZ0V4cChyZXBsYWNlbWVudEV4cHIsICdnJyksIGNvbnRlbnQpO1xuICB9XG5cbiAgcmVtb3ZlQXR0cmlidXRlRnJvbUh0bWxTdHJpbmcoYXR0ck5hbWUsIGVsZW1lbnQpIHtcbiAgICBjb25zdCByZXBsYWNlbWVudEV4cHIgPSBgJHthdHRyTmFtZX09XCJbXlxcXCJdK1wiYDtcbiAgICByZXR1cm4gZWxlbWVudC5yZXBsYWNlKG5ldyBSZWdFeHAocmVwbGFjZW1lbnRFeHByKSwgJycpO1xuICB9XG5cbiAgcmVuZGVyRXZlbnRzRm9yRGF5KGV2ZW50cykge1xuICAgIGlmICghZXZlbnRzIHx8IGV2ZW50cy5sZW5ndGggPCAxKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIChldmVudHMubGVuZ3RoIDw9IHRoaXMuZXZlbnREaXNwbGF5TGltaXQgJiYgd2luZG93LmlubmVyV2lkdGggPiA2MDApXG4gICAgICA/IHRoaXMucmVuZGVyRXZlbnRzQXNMaXN0KGV2ZW50cylcbiAgICAgIDogdGhpcy5yZW5kZXJFdmVudHNBc0NvdW50KGV2ZW50cyk7XG4gIH1cblxuICByZW5kZXJFdmVudHNBc0xpc3QoZXZlbnRzKSB7XG4gICAgbGV0IGV2ZW50TGlzdCA9IFtdO1xuXG4gICAgZm9yIChsZXQgZXZ0IG9mIGV2ZW50cykge1xuICAgICAgbGV0IGxpbmtSZXBsYWNlZCA9IHRoaXMucmVwbGFjZVRhZ0luSHRtbFN0cmluZygndXJsJywgZXZ0LmxpbmtzWzBdLnVybCwgdGhpcy5ldmVudExpc3QpO1xuICAgICAgZXZlbnRMaXN0LnB1c2godGhpcy5yZXBsYWNlVGFnSW5IdG1sU3RyaW5nKCdsaW5rTGFiZWwnLCBldnQubmFtZSwgbGlua1JlcGxhY2VkKSk7XG4gICAgfVxuICAgIHJldHVybiAnPHVsIGNsYXNzPVwiZXZlbnRzLWRheWxpc3RcIj4nICsgZXZlbnRMaXN0LmpvaW4oJycpICsgJzwvdWw+JztcbiAgfVxuXG4gIHJlbmRlckV2ZW50c0FzQ291bnQoZXZlbnRzKSB7XG4gICAgY29uc3QgZXZlbnRDb3VudCA9IGV2ZW50cy5sZW5ndGg7XG4gICAgcmV0dXJuIGA8ZGl2PjxwPiR7ZXZlbnRDb3VudH0gRXZlbnRzPC9wPjwvZGl2PmA7XG4gIH1cblxuICBnZW5lcmF0ZUNvbXBvbmVudFN0eWxlcygpIHtcbiAgICBjb25zdCBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcblxuICAgIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IGBcbi5ldmVudC1jYWxlbmRhciB7d2lkdGg6MTAwJTtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7fVxuLmV2ZW50LWNhbGVuZGFyIHRoZWFkIHRkIHtoZWlnaHQ6IDMwcHg7Ym9yZGVyLXRvcDogMXB4IHNvbGlkICM3MjkyYmE7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM3MjkyYmE7Y29sb3I6ICMzMzM7dGV4dC1hbGlnbjpjZW50ZXJ9XG4uZXZlbnQtY2FsZW5kYXIgdGJvZHk6YmVmb3JlIHtjb250ZW50OiBcIi1cIjsgZGlzcGxheTogYmxvY2s7IGxpbmUtaGVpZ2h0OiAxZW07IGNvbG9yOiB0cmFuc3BhcmVudDt9XG4uZXZlbnQtY2FsZW5kYXIgdGJvZHkgdGQge2hlaWdodDoxODBweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7cGFkZGluZy10b3A6MzBweH1cbi5ldmVudC1jYWxlbmRhciB0ZCB7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOiAxNC4zJTtoZWlnaHQ6MTgwcHg7Ym9yZGVyOjFweCBzb2xpZCAjZWVlfVxudGQgc3BhbiB7Zm9udC1zaXplOiAxNXB4O3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDo0MCV9XG50ZC5kaXYge2hlaWdodDoxMDAlO2Rpc3BsYXk6aW5saW5lLWJsb2NrfVxudGQuYm9yZGVyaW5nLW1vbnRoIHtiYWNrZ3JvdW5kOiNjY2M7fVxuLmV2ZW50LWRheSB7cG9zaXRpb246IGFic29sdXRlO3RvcDogMHB4O2Rpc3BsYXk6IGJsb2NrO3dpZHRoOiAxMDAlO3RleHQtYWxpZ246bGVmdDtiYWNrZ3JvdW5kLWNvbG9yOiAjNzI5MmJhO3BhZGRpbmc6IDAuM2VtIDYlO2NvbG9yOiAjZWVlO3RleHQtZGVjb3JhdGlvbjpub25lfVxuLmNhbC1jb250YWluZXIge3BhZGRpbmc6MCAzJTt9XG4uY2FsZW5kYXItbW9udGggPiAqIHtkaXNwbGF5OiBpbmxpbmUtYmxvY2t9XG4uY2FsZW5kYXItbW9udGgge3RleHQtYWxpZ246Y2VudGVyO31cbi5jYWxlbmRhci1tb250aCA+IGEge21hcmdpbjogMCAxMHB4O31cbi5jYWxlbmRhci1tb250aCA+IGgyIHt3aWR0aDoxODBweDt0ZXh0LWFsaWduOmNlbnRlcjt9XG5cbi53ZWVrZW5kLWRheSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2IyZDJmYTtcbn1cblxuICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XG4gICAgLmV2ZW50LWNhbGVuZGFyIHRib2R5IHRkIHtcbiAgICAgICAgaGVpZ2h0OiA5MHB4O1xuICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5gO1xuICAgIHJldHVybiBzdHlsZUVsZW1lbnQ7XG5cbiAgfVxufVxuIiwiaW1wb3J0IEV2ZW50UmVwb3NpdG9yeSBmcm9tICcuLi9kb21haW4vZXZlbnQtcmVwb3NpdG9yeS5qcyc7XG5pbXBvcnQgUmVuZGVyQ2FsZW5kYXIgZnJvbSAnLi4vZG9tYWluL3JlbmRlci1jYWxlbmRhci5qcyc7XG5pbXBvcnQge1xuICBmb3JtYXRZZWFyTW9udGgsXG4gIHplcm9QYWQsXG4gIGNhbGN1bGF0ZU5leHRZZWFyTW9udGgsXG4gIGNhbGN1bGF0ZVByZXZpb3VzWWVhck1vbnRoXG59IGZyb20gJy4uL3V0aWxpdGllcyc7XG5cbmV4cG9ydCBjbGFzcyBFdmVudHNDYWxlbmRhciBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAvLyBzaGFkb3c7XG4gIGN1cnJlbnRZZWFyO1xuICBjdXJyZW50TW9udGg7XG4gIHJlbmRlckNhbCA9ICBuZXcgUmVuZGVyQ2FsZW5kYXIoKTtcbiAgZXZlbnRSZXBvc2l0b3J5ID0gbmV3IEV2ZW50UmVwb3NpdG9yeSgpO1xuICBjdXJyZW50TW9udGhzRXZlbnRzO1xuICBtaW5EZXNrdG9wV2lkdGggPSA2MDE7XG4gIGlzTW9iaWxlID0gd2luZG93LmlubmVyV2lkdGggPCB0aGlzLm1pbkRlc2t0b3BXaWR0aDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coe21vZGU6ICdvcGVuJ30pO1xuICAgIHdpbmRvdy5vbnJlc2l6ZSA9IHRoaXMucmVyZW5kZXJPblJlc2l6ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cbiAgICB0aGlzLnNoYWRvdy5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckNhbC5nZW5lcmF0ZUNvbXBvbmVudFN0eWxlcygpKTtcbiAgICBjb25zdCB7IHllYXIsIG1vbnRoIH0gPSB0aGlzLmZpbmRNb250aFllYXJUb1JlbmRlcigpO1xuICAgIHRoaXMuY3VycmVudE1vbnRoID0gbW9udGg7XG4gICAgdGhpcy5jdXJyZW50WWVhciA9IHllYXI7XG4gICAgdGhpcy5jaGFuZ2VVcmxQYXJhbWV0ZXJzKHRoaXMuY3VycmVudE1vbnRoLCB0aGlzLmN1cnJlbnRZZWFyKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYWxlbmRhckNsaWNrZWQnLCB0aGlzLmRhdGVDbGlja0xpc3RlbmVyLmJpbmQodGhpcykpXG5cbiAgICB0aGlzLmV2ZW50UmVwb3NpdG9yeS5vbignZXZlbnRzRm9yTW9udGhBdmFpbGFibGUnLCBldmVudExpc3RCeURheSA9PiB7XG4gICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKGV2ZW50TGlzdEJ5RGF5LmV2ZW50c0luTW9udGgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudFJlcG9zaXRvcnkub24oJ2V2ZW50RGF0YUVycm9yJywgZXJyID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZyb20gUmVwbycsIGVycik7XG4gICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKHt9KVxuICAgIH0pO1xuXG4gICAgd2luZG93LnByZXZpb3VzID0gdGhpcy5nb3RvTW9udGgoY2FsY3VsYXRlUHJldmlvdXNZZWFyTW9udGguYmluZCh0aGlzKSk7XG4gICAgd2luZG93Lm5leHQgPSB0aGlzLmdvdG9Nb250aChjYWxjdWxhdGVOZXh0WWVhck1vbnRoLmJpbmQodGhpcykpO1xuICB9XG5cbiAgY2hhbmdlVXJsUGFyYW1ldGVycyhtb250aCwgeWVhcikge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYD9tb250aD0ke21vbnRofSZ5ZWFyPSR7eWVhcn1gXG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKFxuICAgICAgeyBtb250aCwgeWVhciB9LFxuICAgICAgXCJDYWxlbmRhclwiLFxuICAgICAgcXVlcnlcbiAgICApXG5cbiAgICB0aGlzLmV2ZW50UmVwb3NpdG9yeS5nZXRBbGxFdmVudHNJblllYXJNb250aCh0aGlzLmN1cnJlbnRZZWFyLCB0aGlzLmN1cnJlbnRNb250aCk7XG4gICAgdGhpcy5ldmVudFJlcG9zaXRvcnkucHJlbG9hZEFkamFjZW50TW9udGhzRXZlbnRzKHRoaXMuY3VycmVudE1vbnRoLCB0aGlzLmN1cnJlbnRZZWFyKTtcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKHt9KTtcbiAgfVxuXG4gIHJlcmVuZGVyT25SZXNpemUoZXZ0KSB7XG4gICAgY29uc3QgbmV3V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBjb25zdCByZXJlbmRlciA9XG4gICAgICB0aGlzLmlzTW9iaWxlICYmIG5ld1dpZHRoID4gdGhpcy5taW5EZXNrdG9wV2lkdGggLSAxIHx8XG4gICAgICAhdGhpcy5pc01vYmlsZSAmJiBuZXdXaWR0aCA8IHRoaXMubWluRGVza3RvcFdpZHRoO1xuICAgIGlmIChyZXJlbmRlcikge1xuICAgICAgdGhpcy5pc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDwgdGhpcy5taW5EZXNrdG9wV2lkdGg7XG4gICAgICB0aGlzLnJlcmVuZGVyQ2FsZW5kYXIoKTtcbiAgICB9XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FsZW5kYXJDbGlja2VkJywgdGhpcy5kYXRlQ2xpY2tMaXN0ZW5lci5iaW5kKHRoaXMpKVxuICB9XG5cbiAgZmluZE1vbnRoWWVhclRvUmVuZGVyKCkge1xuICAgIGxldCB7IHllYXIsIG1vbnRoIH0gPSB0aGlzLnBhcnNlVXJsUGFyYW1zKCk7XG5cbiAgICBtb250aCA9IChtb250aCA+IDEyIHx8IGlzTmFOKG1vbnRoKSkgPyBuZXcgRGF0ZSgpLmdldE1vbnRoKCkgKyAxIDogbW9udGg7XG4gICAgeWVhciA9ICh5ZWFyIDwgMjAyMCB8fCB5ZWFyID4gMjA2MCB8fCBpc05hTih5ZWFyKSkgPyBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgOiB5ZWFyO1xuXG4gICAgcmV0dXJuIHsgeWVhciwgbW9udGggfTtcbiAgfVxuXG4gIHBhcnNlVXJsUGFyYW1zKCkge1xuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpO1xuICAgIGNvbnN0IHBhcmFtT2JqID0ge307XG4gICAgc2VhcmNoUGFyYW1zLnJlcGxhY2UoLyhbXFx3XFxkXSspPShbXiZdKykvZywgKGFsbCwga2V5LCB2YWwpID0+IHtcbiAgICAgIHBhcmFtT2JqW2tleV0gPSAoaXNOYU4odmFsKSkgPyB2YWwgOiBwYXJzZUludCh2YWwsIDEwKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyYW1PYmo7XG4gIH1cblxuICByZXJlbmRlckNhbGVuZGFyKCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50TW9udGhzRXZlbnRzKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZXJlbmRlciB3aXRob3V0IGRhdGEnKTtcbiAgICBlbHNlIHRoaXMucmVuZGVyQ2FsZW5kYXIodGhpcy5jdXJyZW50TW9udGhzRXZlbnRzKTtcbiAgfVxuXG4gIHJlbmRlckNhbGVuZGFyKGRhdGEpIHtcbiAgICB0aGlzLmN1cnJlbnRNb250aHNFdmVudHMgPSBkYXRhO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYWxlbmRhckNsaWNrZWQnLCB0aGlzLmRhdGVDbGlja0xpc3RlbmVyKTtcblxuICAgIGNvbnN0IG9wID0gdGhpcy5jYWxjTW9udGgodGhpcy5jdXJyZW50WWVhciwgdGhpcy5jdXJyZW50TW9udGgpO1xuICAgIGNvbnN0IG1hcmt1cCA9IHRoaXMucmVuZGVyQ2FsXG4gICAgICAuY3JlYXRlSHRtbEZvcih0aGlzLmN1cnJlbnRZZWFyLCB0aGlzLmN1cnJlbnRNb250aCkob3ApO1xuXG4gICAgZm9yIChsZXQgbiBvZiB0aGlzLnNoYWRvdy5jaGlsZHJlbikge1xuICAgICAgaWYgKHR5cGVvZiBuLnR5cGUgIT0gXCJzdHJpbmdcIiB8fCBuLnR5cGUgIT09ICd0ZXh0L2NzcycpXG4gICAgICAgIHRoaXMuc2hhZG93LnJlbW92ZUNoaWxkKG4pO1xuICAgIH1cbiAgICB0aGlzLnNoYWRvdy5hcHBlbmRDaGlsZChtYXJrdXApO1xuICB9XG5cbiAgY2FsY01vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgbGV0IGNhbGVuZGFyID0gW107XG4gICAgY29uc3QgZmlyc3RSb3cgPSB0aGlzLmNyZWF0ZUZpcnN0Q2FsZW5kYXJSb3coeWVhciwgbW9udGgpO1xuICAgIGNhbGVuZGFyLnB1c2goZmlyc3RSb3cucm93KTtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICBkbyB7XG4gICAgICBjYWxlbmRhci5wdXNoKHRoaXMuY3JlYXRlQ2FsZW5kYXJSb3dTdGFydGluZ0F0KGZpcnN0Um93Lmxhc3REYXRlICsgMSArIChpICogNykpKVxuICAgICAgaSsrO1xuICAgIH0gd2hpbGUgKGZpcnN0Um93Lmxhc3REYXRlICsgKGkgKiA3KSA8IHRoaXMuZ2V0TGFzdERhdGVPZk1vbnRoKHllYXIsIG1vbnRoKSlcblxuICAgIHRoaXMuY29ycmVjdExhc3RSb3dPZihjYWxlbmRhciwgeWVhciwgbW9udGgpO1xuICAgIHJldHVybiBjYWxlbmRhcjtcbiAgfVxuXG4gIGNyZWF0ZUZpcnN0Q2FsZW5kYXJSb3coeWVhciwgbW9udGgpIHtcbiAgICBjb25zdCBmaXJzdFdlZWtkYXlPZk1vbnRoID0gYCR7eWVhcn0tJHt6ZXJvUGFkKG1vbnRoKX0tMDFUMDA6MDA6MDBgO1xuICAgIGNvbnN0IGZpcnN0V2Vla2RheU9mTW9udGhEYXkgPSBuZXcgRGF0ZShmaXJzdFdlZWtkYXlPZk1vbnRoKS5nZXREYXkoKTtcbiAgICBjb25zdCBsYXN0RGF0ZU9mUHJldk1vbnRoID0gdGhpcy5nZXRMYXN0RGF0ZU9mUHJldmlvdXNNb250aCh5ZWFyLCBtb250aCk7XG4gICAgbGV0IHByZXZNb250aERheXM7XG5cbiAgICBpZiAoZmlyc3RXZWVrZGF5T2ZNb250aERheSA9PT0gMSkge1xuICAgICAgdGhpcy5jcmVhdGVDYWxlbmRhclJvd1N0YXJ0aW5nQXQoMSk7XG4gICAgICBwcmV2TW9udGhEYXlzID0gW107XG4gICAgfSBlbHNlIGlmIChmaXJzdFdlZWtkYXlPZk1vbnRoRGF5ID09PSAwKSB7XG4gICAgICBwcmV2TW9udGhEYXlzID0gWy4uLkFycmF5KDYpLmtleXMoKV1cbiAgICAgICAgLm1hcChuID0+IHRoaXMuY3JlYXRlRGF5T2JqZWN0KGxhc3REYXRlT2ZQcmV2TW9udGggLSA1ICsgbiwgZmFsc2UpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbnVtRGF5cyA9IGZpcnN0V2Vla2RheU9mTW9udGhEYXkgLSAxO1xuICAgICAgY29uc3QgZmlyc3REYXlGcm9tUHJldk1vbnRoID0gbGFzdERhdGVPZlByZXZNb250aCAtIGZpcnN0V2Vla2RheU9mTW9udGhEYXk7XG4gICAgICBwcmV2TW9udGhEYXlzID0gWy4uLkFycmF5KG51bURheXMpLmtleXMoKV1cbiAgICAgICAgLm1hcChuID0+IHRoaXMuY3JlYXRlRGF5T2JqZWN0KG4gKyBmaXJzdERheUZyb21QcmV2TW9udGggKyAyLCBmYWxzZSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRNb250aERheUNvdW50ID0gNyAtIHByZXZNb250aERheXMubGVuZ3RoO1xuICAgIGNvbnN0IGN1cnJlbnRNb250aERhdGVzID0gWy4uLkFycmF5KGN1cnJlbnRNb250aERheUNvdW50KS5rZXlzKCldXG4gICAgICAubWFwKG4gPT4gdGhpcy5jcmVhdGVEYXlPYmplY3QobiArIDEpKTtcbiAgICBjb25zdCBmdWxsUm93ID0gWy4uLnByZXZNb250aERheXMsIC4uLmN1cnJlbnRNb250aERhdGVzXTtcblxuICAgIHJldHVybiB7XG4gICAgICBsYXN0RGF0ZTogY3VycmVudE1vbnRoRGF5Q291bnQsXG4gICAgICByb3c6IGZ1bGxSb3csXG4gICAgfVxuICB9XG5cbiAgY3JlYXRlQ2FsZW5kYXJSb3dTdGFydGluZ0F0KGZpcnN0RGF0ZSkge1xuICAgIHJldHVybiBbLi4uQXJyYXkoNykua2V5cygpXS5tYXAobiA9PiB0aGlzLmNyZWF0ZURheU9iamVjdChuICsgZmlyc3REYXRlKSk7XG4gIH1cblxuICBjcmVhdGVEYXlPYmplY3QoZGF5TnVtYmVyLCBpc1NlbGVjdGVkTW9udGggPSB0cnVlKSB7XG4gICAgY29uc3QgZGF0ZVN0ciA9IGAke2Zvcm1hdFllYXJNb250aCh0aGlzLmN1cnJlbnRZZWFyLCB0aGlzLmN1cnJlbnRNb250aCl9LSR7emVyb1BhZChkYXlOdW1iZXIpfWA7XG4gICAgY29uc3QgZXZlbnRzID0gKGlzU2VsZWN0ZWRNb250aClcbiAgICAgID8gdGhpcy5ldmVudFJlcG9zaXRvcnkuZ2V0TW9udGhFdmVudHNGb3JEYXRlRnJvbUNhY2hlKGRhdGVTdHIpXG4gICAgICA6IFtdO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGU6IGRheU51bWJlcixcbiAgICAgIGlzU2VsZWN0ZWRNb250aCxcbiAgICAgIGV2ZW50c1xuICAgIH1cbiAgfVxuXG4gIGdldExhc3REYXRlT2ZQcmV2aW91c01vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgaWYgKG1vbnRoID4gMTIpIHtcbiAgICAgIHllYXIrKztcbiAgICAgIG1vbnRoID0gMTtcbiAgICB9XG4gICAgY29uc3QgbW9udGhQYWRkZWQgPSBgMDAke21vbnRofWAuc3Vic3RyKC0yKTtcbiAgICByZXR1cm4gbmV3IERhdGUobmV3IERhdGUoYCR7eWVhcn0tJHttb250aFBhZGRlZH0tMDFgKS5zZXRIb3VycygtMSkpLmdldERhdGUoKTtcbiAgfVxuXG4gIGdldExhc3REYXRlT2ZNb250aCh5ZWFyLCBtb250aCkge1xuICAgIGNvbnN0IG51bWVyaWNZZWFyID0gcGFyc2VJbnQoeWVhciwgMTApO1xuICAgIGNvbnN0IG51bWVyaWNNb250aCA9IHBhcnNlSW50KG1vbnRoLCAxMCk7XG5cbiAgICByZXR1cm4gdGhpcy5nZXRMYXN0RGF0ZU9mUHJldmlvdXNNb250aChudW1lcmljWWVhciwgbnVtZXJpY01vbnRoICsgMSk7XG4gIH1cblxuICAvLyBNdXRhdGVzIGNhbGVuZGFyIHJvdyBpbi1wbGFjZVxuICBjb3JyZWN0TGFzdFJvd09mKGNhbGVuZGFyLCB5ZWFyLCBtb250aCkge1xuICAgIGNvbnN0IGxhc3REYXkgPSB0aGlzLmdldExhc3REYXRlT2ZNb250aCh5ZWFyLCBtb250aCk7XG4gICAgY29uc3QgbGFzdFJvd0lkeCA9IGNhbGVuZGFyLmxlbmd0aCAtIDE7XG5cbiAgICBjYWxlbmRhcltsYXN0Um93SWR4XSA9IGNhbGVuZGFyW2xhc3RSb3dJZHhdLm1hcCh4ID0+IHtcbiAgICAgIGlmICh4LmRhdGUgPiBsYXN0RGF5KSByZXR1cm4gdGhpcy5jcmVhdGVEYXlPYmplY3QoeC5kYXRlIC0gbGFzdERheSwgZmFsc2UpO1xuICAgICAgZWxzZSByZXR1cm4geDtcbiAgICB9KVxuICB9XG5cbiAgZ290b01vbnRoID0gbW9udGhDYWxjdWxhdGlvbiA9PiAoKSA9PiB7XG4gICAgY29uc3QgeyBtb250aCwgeWVhciB9ID0gbW9udGhDYWxjdWxhdGlvbih0aGlzLmN1cnJlbnRNb250aCwgdGhpcy5jdXJyZW50WWVhcilcbiAgICB0aGlzLmN1cnJlbnRNb250aCA9IG1vbnRoO1xuICAgIHRoaXMuY3VycmVudFllYXIgPSB5ZWFyO1xuXG4gICAgdGhpcy5jaGFuZ2VVcmxQYXJhbWV0ZXJzKG1vbnRoLCB5ZWFyKTtcbiAgfVxuXG4gIGRhdGVDbGlja0xpc3RlbmVyKGN1c3RvbUV2ZW50SW5zdGFuY2UpIHtcbiAgICBjb25zdCBldmVudFBheWxvYWQgPSBjdXN0b21FdmVudEluc3RhbmNlLmRldGFpbDtcblxuICAgIGlmIChldmVudFBheWxvYWQudHlwZSA9PT0gJ2RhdGUtY2xpY2tlZCcpIHtcbiAgICAgIGNvbnN0IGRhdGUgPSBldmVudFBheWxvYWQuZGF0ZVJlcXVlc3RlZDtcbiAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRSZXBvc2l0b3J5LmdldE1vbnRoRXZlbnRzRm9yRGF0ZUZyb21DYWNoZShkYXRlKTtcblxuICAgICAgY29uc3QgcGxheUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdldmVudHMtZm9yLWRhdGUnLCB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsICAvLyBidWJibGUgZXZlbnQgdG8gY29udGFpbmluZyBlbGVtZW50c1xuICAgICAgICBjb21wb3NlZDogdHJ1ZSwgLy8gbGV0IHRoZSBldmVudCBwYXNzIHRocm91Z2ggdGhlIHNoYWRvd0RPTSBib3VuZGFyeVxuICAgICAgICBkZXRhaWw6IHsgICAgICAgLy8gYW4gb2JqZWN0IHRvIGhvbGQgYW55IGN1c3RvbSBkYXRhIHRoYXQncyBhdHRhY2hlZCB0byB0aGlzIGV2ZW50XG4gICAgICAgICAgZXZlbnRzLFxuICAgICAgICAgIGRhdGUsXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChwbGF5RXZlbnQpXG4gICAgfVxuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZXZlbnRzLWNhbGVuZGFyJywgRXZlbnRzQ2FsZW5kYXIpO1xuIl0sIm5hbWVzIjpbIkVtaXR0ZXIiLCJvYmoiLCJrZXkiLCJwcm90b3R5cGUiLCJtaXhpbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImZuIiwidGhpcyIsIl9jYWxsYmFja3MiLCJwdXNoIiwib25jZSIsIm9mZiIsImFwcGx5IiwiYXJndW1lbnRzIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGVuZ3RoIiwiY2IiLCJjYWxsYmFja3MiLCJpIiwic3BsaWNlIiwiZW1pdCIsImFyZ3MiLCJBcnJheSIsImxlbiIsInNsaWNlIiwibGlzdGVuZXJzIiwiaGFzTGlzdGVuZXJzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJmb3JtYXREYXRlRnJvbVN0cmluZyIsImRhdGVTdHIiLCJwZCIsIkRhdGUiLCJnZXRGdWxsWWVhciIsInplcm9QYWQiLCJnZXRNb250aCIsImdldERhdGUiLCJzb21lTnVtYmVyIiwic3Vic3RyIiwiZm9ybWF0WWVhck1vbnRoIiwieWVhciIsIm1vbnRoIiwiY2FsY3VsYXRlTmV4dFllYXJNb250aCIsImNhbGN1bGF0ZVByZXZpb3VzWWVhck1vbnRoIiwiTm9EYXRhRXJyb3IiLCJFcnJvciIsIkV2ZW50UmVwb3NpdG9yeSIsImNvbnN0cnVjdG9yIiwic2VydmVyRG9tYWluIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJldmVudFN0b3JhZ2UiLCJsb2FkRXZlbnRzV29ya2VyIiwicGF0aFRvV29ya2VyTG9hZGVyIiwic2hvdWxkTG9hZEZyb21TZXJ2ZXIiLCJsb2FkRXZlbnRzRm9yTW9udGgiLCJwb3N0TWVzc2FnZSIsImRvbWFpbiIsInByb2Nlc3NXb3JrZXJNZXNzYWdlIiwibXNnIiwidHlwZSIsImNhY2hlRXZlbnRzIiwiZGF0YSIsImVtaXREYXRhQXZhaWxhYmxlRXZlbnQiLCJlcnJvciIsImV2ZW50TGlzdE9iamVjdCIsInByZWxvYWRBZGphY2VudE1vbnRoc0V2ZW50cyIsIm1vbnRoT2Zmc2V0c1RvTG9hZCIsIm1vbnRoQ291bnQiLCJtb250aE9mZnNldHMiLCJmcm9tIiwidiIsInBhcnNlSW50IiwiaXNBcnJheSIsImNvbnNvbGUiLCJtYXAiLCJjdXJyZW50RGF0ZSIsInNldE1vbnRoIiwidW50aWwiLCJ3aXRoRml4ZWQiLCJjYWxjdWxhdGVNb250aFJhbmdlRm9yIiwiZm9yRWFjaCIsImZ1bGxEYXRlIiwieWVhck1vbnRoIiwic3BsaXQiLCJ5ZWFyTW9udGhJZCIsInNwbGl0WWVhck1vbnRoIiwiZ2V0TW9udGhFdmVudHNGb3JEYXRlRnJvbUNhY2hlIiwiZGF0ZVN0cmluZyIsImhhc0RhdGEiLCJldmVudHMiLCJmdWxsRGF0ZVN0cmluZyIsInN0YXJ0V2ViV29ya2VyIiwid29ya2VyVXJsIiwiV29ya2VyIiwib25tZXNzYWdlIiwib25lcnJvciIsImVyciIsIndhcm4iLCJvbm1lc3NhZ2VlcnJvciIsImdldEFsbEV2ZW50c0luWWVhck1vbnRoIiwiZXZlbnREYXRlIiwieWVhclN0ciIsIm1vbnRoU3RyIiwiZGF5IiwicGF5bG9hZCIsImV2ZW50c0luTW9udGgiLCJSZW5kZXJDYWxlbmRhciIsImV2ZW50RGlzcGxheUxpbWl0IiwibW9udGhOYW1lcyIsImRheUVsZW1lbnQiLCJldmVudExpc3QiLCJoZWFkZXIiLCJjcmVhdGVIdG1sRm9yIiwiY2FsZW5kYXJNb250aEFycmF5Iiwid2l0aE1vbnRoIiwicmVwbGFjZVRhZ0luSHRtbFN0cmluZyIsImRhdGVIZWFkZXIiLCJoZWFkZXJOb2RlcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRhYmxlRWwiLCJzZXRBdHRyaWJ1dGUiLCJ0YWJsZUhlYWQiLCJnZW5lcmF0ZVRhYmxlSGVhZGVyIiwidGFibGVCb2R5IiwiZ2VuZXJhdGVDYWxlbmRhclJvd3MiLCJqb2luIiwiYXBwZW5kQ2hpbGQiLCJjb250YWluZXIiLCJvbmNsaWNrIiwiZXZ0IiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImRhdGVSZXF1ZXN0ZWQiLCJyZXR1cm5UYWJsZUNlbGxOb2RlIiwicGF0aCIsImdldEF0dHJpYnV0ZSIsImVsQ2xpY2tlZEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJkaXNwYXRjaEV2ZW50Iiwibm9kZVBhdGgiLCJub2RlUGF0aEluZGV4Iiwibm9kZVJlZiIsImNsYXNzTmFtZSIsImluY2x1ZGVzIiwiRXhjZXB0aW9uIiwibW9udGhEZXNjcmlwdGlvbiIsIndlZWtDb25maWciLCJyb3ciLCJyZWR1Y2UiLCJyZW5kZXJDYWxlbmRhckRheSIsImJpbmQiLCJjYWxlbmRhclJvdyIsImFjYyIsImRhdGUiLCJkYXRlU3R5bGUiLCJnZXREYXkiLCJyZW5kZXJlZCIsInJlbmRlckV2ZW50c0ZvckRheSIsInJlbW92ZUF0dHJpYnV0ZUZyb21IdG1sU3RyaW5nIiwiZGF0ZU9iaiIsInRhZ0lkIiwiY29udGVudCIsImVsZW1lbnQiLCJyZXBsYWNlbWVudEV4cHIiLCJyZXBsYWNlIiwiUmVnRXhwIiwiYXR0ck5hbWUiLCJpbm5lcldpZHRoIiwicmVuZGVyRXZlbnRzQXNMaXN0IiwicmVuZGVyRXZlbnRzQXNDb3VudCIsImxpbmtSZXBsYWNlZCIsImxpbmtzIiwidXJsIiwibmFtZSIsImdlbmVyYXRlQ29tcG9uZW50U3R5bGVzIiwic3R5bGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJFdmVudHNDYWxlbmRhciIsIkhUTUxFbGVtZW50Iiwic3VwZXIiLCJjdXJyZW50WWVhciIsImN1cnJlbnRNb250aCIsInJlbmRlckNhbCIsImV2ZW50UmVwb3NpdG9yeSIsImN1cnJlbnRNb250aHNFdmVudHMiLCJtaW5EZXNrdG9wV2lkdGgiLCJpc01vYmlsZSIsImdvdG9Nb250aCIsIm1vbnRoQ2FsY3VsYXRpb24iLCJjaGFuZ2VVcmxQYXJhbWV0ZXJzIiwic2hhZG93IiwiYXR0YWNoU2hhZG93IiwibW9kZSIsIm9ucmVzaXplIiwicmVyZW5kZXJPblJlc2l6ZSIsImNvbm5lY3RlZENhbGxiYWNrIiwiZmluZE1vbnRoWWVhclRvUmVuZGVyIiwiZGF0ZUNsaWNrTGlzdGVuZXIiLCJldmVudExpc3RCeURheSIsInJlbmRlckNhbGVuZGFyIiwicHJldmlvdXMiLCJuZXh0IiwicXVlcnkiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwibmV3V2lkdGgiLCJyZXJlbmRlckNhbGVuZGFyIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJwYXJzZVVybFBhcmFtcyIsImlzTmFOIiwic2VhcmNoUGFyYW1zIiwic2VhcmNoIiwicGFyYW1PYmoiLCJhbGwiLCJ2YWwiLCJvcCIsImNhbGNNb250aCIsIm1hcmt1cCIsImNoaWxkcmVuIiwicmVtb3ZlQ2hpbGQiLCJjYWxlbmRhciIsImZpcnN0Um93IiwiY3JlYXRlRmlyc3RDYWxlbmRhclJvdyIsImNyZWF0ZUNhbGVuZGFyUm93U3RhcnRpbmdBdCIsImxhc3REYXRlIiwiZ2V0TGFzdERhdGVPZk1vbnRoIiwiY29ycmVjdExhc3RSb3dPZiIsImZpcnN0V2Vla2RheU9mTW9udGgiLCJmaXJzdFdlZWtkYXlPZk1vbnRoRGF5IiwibGFzdERhdGVPZlByZXZNb250aCIsImdldExhc3REYXRlT2ZQcmV2aW91c01vbnRoIiwicHJldk1vbnRoRGF5cyIsImtleXMiLCJjcmVhdGVEYXlPYmplY3QiLCJmaXJzdERheUZyb21QcmV2TW9udGgiLCJjdXJyZW50TW9udGhEYXlDb3VudCIsImN1cnJlbnRNb250aERhdGVzIiwiZmlyc3REYXRlIiwiZGF5TnVtYmVyIiwiaXNTZWxlY3RlZE1vbnRoIiwibW9udGhQYWRkZWQiLCJzZXRIb3VycyIsIm51bWVyaWNZZWFyIiwibnVtZXJpY01vbnRoIiwibGFzdERheSIsImxhc3RSb3dJZHgiLCJ4IiwiY3VzdG9tRXZlbnRJbnN0YW5jZSIsImV2ZW50UGF5bG9hZCIsInBsYXlFdmVudCIsImJ1YmJsZXMiLCJjb21wb3NlZCIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIl0sInNvdXJjZVJvb3QiOiIifQ==